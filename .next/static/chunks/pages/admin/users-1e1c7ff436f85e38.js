(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[840],{1456:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/users",function(){return n(8531)}])},8531:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>r});var a=n(7876),l=n(4232);function r(){let[e,s]=(0,l.useState)([]);(0,l.useEffect)(()=>{fetch("/api/admin/users").then(e=>e.json()).then(s)},[]);let n=async(n,a)=>{await fetch("/api/admin/users/".concat(n,"/role"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:a})}),s(e.map(e=>e.id===n?{...e,role:a}:e))};return(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"User Management"}),(0,a.jsxs)("table",{className:"w-full bg-[var(--color-surface)] rounded-2xl shadow-lg",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Email"}),(0,a.jsx)("th",{children:"Role"})]})}),(0,a.jsx)("tbody",{children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.username}),(0,a.jsx)("td",{children:e.email}),(0,a.jsx)("td",{children:(0,a.jsxs)("select",{value:e.role,onChange:s=>n(e.id,s.target.value),children:[(0,a.jsx)("option",{children:"admin"}),(0,a.jsx)("option",{children:"developer"}),(0,a.jsx)("option",{children:"readonly"})]})})]},e.id))})]})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(1456)),_N_E=e.O()}]);